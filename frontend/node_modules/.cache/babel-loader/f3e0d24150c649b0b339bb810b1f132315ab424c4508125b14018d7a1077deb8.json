{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rober\\\\Desktop\\\\finance_full_project\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\n\n/**\n * Componente PrivateRoute: Protege rotas que só podem ser acessadas por usuários logados.\n * Se o usuário não estiver logado (isLogged é false), ele é redirecionado para a página de login.\n * @param {object} props - As propriedades do componente.\n * @param {React.ReactNode} props.children - Os componentes filhos que serão renderizados se o usuário estiver logado.\n * @param {boolean} props.isLogged - Estado que indica se o usuário está logado.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = ({\n  children,\n  isLogged\n}) => {\n  // Se o usuário estiver logado, renderiza os filhos; caso contrário, redireciona para /login.\n  return isLogged ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 32\n  }, this);\n};\n\n/**\n * Componente AuthRoute: Protege rotas de autenticação (login/registro) para usuários já logados.\n * Se o usuário já estiver logado (isLogged é true), ele é redirecionado para a página principal (dashboard).\n * @param {object} props - As propriedades do componente.\n * @param {React.ReactNode} props.children - Os componentes filhos que serão renderizados se o usuário não estiver logado.\n * @param {boolean} props.isLogged - Estado que indica se o usuário está logado.\n */\n_c = PrivateRoute;\nconst AuthRoute = ({\n  children,\n  isLogged\n}) => {\n  // Se o usuário estiver logado, redireciona para a raiz; caso contrário, renderiza os filhos.\n  return isLogged ? /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 21\n  }, this) : children;\n};\n\n/**\n * Componente principal da aplicação.\n * Gerencia o estado de autenticação do usuário e as rotas da aplicação.\n */\n_c2 = AuthRoute;\nexport default function App() {\n  _s();\n  // `logged` é o estado que indica se o usuário está autenticado.\n  // Inicializa com base na existência de um 'token' no localStorage.\n  const [logged, setLogged] = useState(!!localStorage.getItem('token'));\n\n  /**\n   * useEffect para sincronizar o estado 'logged' com o localStorage.\n   * Verifica a existência do token no localStorage na inicialização e em mudanças externas (outras abas).\n   */\n  useEffect(() => {\n    const checkToken = () => {\n      setLogged(!!localStorage.getItem('token'));\n    };\n    // Verifica o token na montagem do componente.\n    checkToken();\n    // Adiciona um listener para o evento 'storage' para detectar mudanças de localStorage em outras abas/janelas.\n    window.addEventListener('storage', checkToken);\n    // Remove o listener quando o componente é desmontado para evitar vazamentos de memória.\n    return () => window.removeEventListener('storage', checkToken);\n  }, []); // O array vazio [] garante que este efeito roda apenas uma vez na montagem e na desmontagem.\n\n  /**\n   * Função para lidar com o sucesso do login.\n   * Atualiza o estado 'logged' para true.\n   */\n  const handleLogin = () => {\n    setLogged(true);\n  };\n\n  /**\n   * Função para lidar com o logout.\n   * Remove o 'token' do localStorage e atualiza o estado 'logged' para false.\n   * Isso acionará o redirecionamento para a página de login via PrivateRoute.\n   */\n  const handleLogout = () => {\n    localStorage.removeItem('token'); // Remove o token de autenticação.\n    setLogged(false); // Atualiza o estado para não logado.\n  };\n  return (\n    /*#__PURE__*/\n    // BrowserRouter: Habilita o roteamento do lado do cliente para a aplicação.\n    _jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(AuthRoute, {\n            isLogged: logged,\n            children: [\" \", /*#__PURE__*/_jsxDEV(Login, {\n              onLogin: handleLogin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 13\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: /*#__PURE__*/_jsxDEV(AuthRoute, {\n            isLogged: logged,\n            children: [\" \", /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 13\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            isLogged: logged,\n            children: [\" \", /*#__PURE__*/_jsxDEV(Dashboard, {\n              onLogout: handleLogout\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(App, \"alRHh0FLvSoTAyM0N2phrX4TrnQ=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PrivateRoute\");\n$RefreshReg$(_c2, \"AuthRoute\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","Login","Register","Dashboard","jsxDEV","_jsxDEV","PrivateRoute","children","isLogged","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","AuthRoute","_c2","App","_s","logged","setLogged","localStorage","getItem","checkToken","window","addEventListener","removeEventListener","handleLogin","handleLogout","removeItem","path","element","onLogin","onLogout","_c3","$RefreshReg$"],"sources":["C:/Users/Rober/Desktop/finance_full_project/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\n\n/**\n * Componente PrivateRoute: Protege rotas que só podem ser acessadas por usuários logados.\n * Se o usuário não estiver logado (isLogged é false), ele é redirecionado para a página de login.\n * @param {object} props - As propriedades do componente.\n * @param {React.ReactNode} props.children - Os componentes filhos que serão renderizados se o usuário estiver logado.\n * @param {boolean} props.isLogged - Estado que indica se o usuário está logado.\n */\nconst PrivateRoute = ({ children, isLogged }) => {\n  // Se o usuário estiver logado, renderiza os filhos; caso contrário, redireciona para /login.\n  return isLogged ? children : <Navigate to=\"/login\" />;\n};\n\n/**\n * Componente AuthRoute: Protege rotas de autenticação (login/registro) para usuários já logados.\n * Se o usuário já estiver logado (isLogged é true), ele é redirecionado para a página principal (dashboard).\n * @param {object} props - As propriedades do componente.\n * @param {React.ReactNode} props.children - Os componentes filhos que serão renderizados se o usuário não estiver logado.\n * @param {boolean} props.isLogged - Estado que indica se o usuário está logado.\n */\nconst AuthRoute = ({ children, isLogged }) => {\n  // Se o usuário estiver logado, redireciona para a raiz; caso contrário, renderiza os filhos.\n  return isLogged ? <Navigate to=\"/\" /> : children;\n}\n\n\n/**\n * Componente principal da aplicação.\n * Gerencia o estado de autenticação do usuário e as rotas da aplicação.\n */\nexport default function App() {\n  // `logged` é o estado que indica se o usuário está autenticado.\n  // Inicializa com base na existência de um 'token' no localStorage.\n  const [logged, setLogged] = useState(!!localStorage.getItem('token'));\n\n  /**\n   * useEffect para sincronizar o estado 'logged' com o localStorage.\n   * Verifica a existência do token no localStorage na inicialização e em mudanças externas (outras abas).\n   */\n  useEffect(() => {\n    const checkToken = () => {\n      setLogged(!!localStorage.getItem('token'));\n    };\n    // Verifica o token na montagem do componente.\n    checkToken();\n    // Adiciona um listener para o evento 'storage' para detectar mudanças de localStorage em outras abas/janelas.\n    window.addEventListener('storage', checkToken);\n    // Remove o listener quando o componente é desmontado para evitar vazamentos de memória.\n    return () => window.removeEventListener('storage', checkToken);\n  }, []); // O array vazio [] garante que este efeito roda apenas uma vez na montagem e na desmontagem.\n\n  /**\n   * Função para lidar com o sucesso do login.\n   * Atualiza o estado 'logged' para true.\n   */\n  const handleLogin = () => {\n    setLogged(true);\n  };\n\n  /**\n   * Função para lidar com o logout.\n   * Remove o 'token' do localStorage e atualiza o estado 'logged' para false.\n   * Isso acionará o redirecionamento para a página de login via PrivateRoute.\n   */\n  const handleLogout = () => {\n    localStorage.removeItem('token'); // Remove o token de autenticação.\n    setLogged(false); // Atualiza o estado para não logado.\n  };\n\n  return (\n    // BrowserRouter: Habilita o roteamento do lado do cliente para a aplicação.\n    <BrowserRouter>\n      {/* Routes: Contém todas as definições de rota da aplicação. */}\n      <Routes>\n        {/* Rota para a página de login. */}\n        <Route path=\"/login\" element={\n          <AuthRoute isLogged={logged}> {/* Protege esta rota para usuários já logados. */}\n            <Login onLogin={handleLogin} /> {/* Renderiza o componente Login, passando a função handleLogin. */}\n          </AuthRoute>\n        } />\n        {/* Rota para a página de registro. */}\n        <Route path=\"/register\" element={\n          <AuthRoute isLogged={logged}> {/* Protege esta rota para usuários já logados. */}\n            <Register /> {/* Renderiza o componente Register. */}\n          </AuthRoute>\n        } />\n        {/* Rota para a página principal (dashboard). */}\n        <Route\n          path=\"/\"\n          element={\n            <PrivateRoute isLogged={logged}> {/* Protege esta rota para usuários não logados. */}\n              <Dashboard onLogout={handleLogout} /> {/* Renderiza o Dashboard, passando a função handleLogout. */}\n            </PrivateRoute>\n          }\n        />\n      </Routes>\n    </BrowserRouter>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}