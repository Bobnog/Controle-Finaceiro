{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rober\\\\Desktop\\\\finance_full_project\\\\frontend\\\\src\\\\pages\\\\CartaoForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { TextField, Button, Switch, FormControlLabel, Dialog, DialogActions, DialogContent, DialogTitle, Box } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CartaoForm({\n  open,\n  onSave,\n  onCancel,\n  initialData\n}) {\n  _s();\n  const [instituicao, setInstituicao] = useState(\"\");\n  const [valor, setValor] = useState(\"\");\n  const [mes, setMes] = useState(new Date().getMonth() + 1);\n  const [ano, setAno] = useState(new Date().getFullYear());\n  const [pago, setPago] = useState(false);\n  const [error, setError] = useState(\"\");\n  const isEditMode = initialData && initialData.id;\n  useEffect(() => {\n    if (isEditMode) {\n      setInstituicao(initialData.instituicao);\n      setValor(initialData.valor);\n      setMes(initialData.mes);\n      setAno(initialData.ano);\n      setPago(initialData.pago);\n    } else {\n      // Reset form\n      setInstituicao(\"\");\n      setValor(\"\");\n      setMes(new Date().getMonth() + 1);\n      setAno(new Date().getFullYear());\n      setPago(false);\n    }\n  }, [initialData, isEditMode, open]);\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setError(\"\");\n    const token = localStorage.getItem(\"token\");\n    const cartaoData = {\n      instituicao,\n      valor: parseFloat(valor),\n      mes: parseInt(mes),\n      ano: parseInt(ano),\n      pago\n    };\n    try {\n      if (isEditMode) {\n        await axios.put(`http://127.0.0.1:8000/cartoes/${initialData.id}`, cartaoData, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } else {\n        await axios.post(\"http://127.0.0.1:8000/cartoes/\", cartaoData, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      }\n      onSave();\n    } catch (err) {\n      setError(\"Erro ao salvar fatura. Verifique os dados.\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: onCancel,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: isEditMode ? 'Editar Fatura/Dívida' : 'Adicionar Fatura/Dívida'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleSubmit,\n        sx: {\n          mt: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          label: \"Institui\\xE7\\xE3o\",\n          value: instituicao,\n          onChange: e => setInstituicao(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          label: \"Valor\",\n          type: \"number\",\n          value: valor,\n          onChange: e => setValor(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          label: \"M\\xEAs\",\n          type: \"number\",\n          value: mes,\n          onChange: e => setMes(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          label: \"Ano\",\n          type: \"number\",\n          value: ano,\n          onChange: e => setAno(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Switch, {\n            checked: pago,\n            onChange: e => setPago(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 34\n          }, this),\n          label: \"Pago\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: onCancel,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        variant: \"contained\",\n        children: \"Salvar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(CartaoForm, \"nd64cY/r34VCYqV+n/7oy4VPI7I=\");\n_c = CartaoForm;\nvar _c;\n$RefreshReg$(_c, \"CartaoForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","TextField","Button","Switch","FormControlLabel","Dialog","DialogActions","DialogContent","DialogTitle","Box","jsxDEV","_jsxDEV","CartaoForm","open","onSave","onCancel","initialData","_s","instituicao","setInstituicao","valor","setValor","mes","setMes","Date","getMonth","ano","setAno","getFullYear","pago","setPago","error","setError","isEditMode","id","handleSubmit","e","preventDefault","token","localStorage","getItem","cartaoData","parseFloat","parseInt","put","headers","Authorization","post","err","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","component","onSubmit","sx","mt","margin","required","fullWidth","label","value","onChange","target","type","control","checked","Typography","color","onClick","variant","_c","$RefreshReg$"],"sources":["C:/Users/Rober/Desktop/finance_full_project/frontend/src/pages/CartaoForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { \n    TextField, Button, Switch, FormControlLabel,\n    Dialog, DialogActions, DialogContent, DialogTitle, Box \n} from '@mui/material';\n\nexport default function CartaoForm({ open, onSave, onCancel, initialData }) {\n    const [instituicao, setInstituicao] = useState(\"\");\n    const [valor, setValor] = useState(\"\");\n    const [mes, setMes] = useState(new Date().getMonth() + 1);\n    const [ano, setAno] = useState(new Date().getFullYear());\n    const [pago, setPago] = useState(false);\n    const [error, setError] = useState(\"\");\n\n    const isEditMode = initialData && initialData.id;\n\n    useEffect(() => {\n        if (isEditMode) {\n            setInstituicao(initialData.instituicao);\n            setValor(initialData.valor);\n            setMes(initialData.mes);\n            setAno(initialData.ano);\n            setPago(initialData.pago);\n        } else {\n            // Reset form\n            setInstituicao(\"\");\n            setValor(\"\");\n            setMes(new Date().getMonth() + 1);\n            setAno(new Date().getFullYear());\n            setPago(false);\n        }\n    }, [initialData, isEditMode, open]);\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        setError(\"\");\n        const token = localStorage.getItem(\"token\");\n        const cartaoData = { instituicao, valor: parseFloat(valor), mes: parseInt(mes), ano: parseInt(ano), pago };\n\n        try {\n            if (isEditMode) {\n                await axios.put(`http://127.0.0.1:8000/cartoes/${initialData.id}`, cartaoData, { headers: { Authorization: `Bearer ${token}` } });\n            } else {\n                await axios.post(\"http://127.0.0.1:8000/cartoes/\", cartaoData, { headers: { Authorization: `Bearer ${token}` } });\n            }\n            onSave();\n        } catch (err) {\n            setError(\"Erro ao salvar fatura. Verifique os dados.\");\n        }\n    }\n\n    return (\n        <Dialog open={open} onClose={onCancel}>\n            <DialogTitle>{isEditMode ? 'Editar Fatura/Dívida' : 'Adicionar Fatura/Dívida'}</DialogTitle>\n            <DialogContent>\n                <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\n                    <TextField\n                        margin=\"normal\" required fullWidth label=\"Instituição\"\n                        value={instituicao} onChange={e => setInstituicao(e.target.value)}\n                    />\n                    <TextField\n                        margin=\"normal\" required fullWidth label=\"Valor\" type=\"number\"\n                        value={valor} onChange={e => setValor(e.target.value)}\n                    />\n                    <TextField\n                        margin=\"normal\" required fullWidth label=\"Mês\" type=\"number\"\n                        value={mes} onChange={e => setMes(e.target.value)}\n                    />\n                    <TextField\n                        margin=\"normal\" required fullWidth label=\"Ano\" type=\"number\"\n                        value={ano} onChange={e => setAno(e.target.value)}\n                    />\n                    <FormControlLabel\n                        control={<Switch checked={pago} onChange={e => setPago(e.target.checked)} />}\n                        label=\"Pago\"\n                    />\n                    {error && <Typography color=\"error\">{error}</Typography>}\n                </Box>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onCancel}>Cancelar</Button>\n                <Button onClick={handleSubmit} variant=\"contained\">Salvar</Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SACIC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EAAEC,gBAAgB,EAC3CC,MAAM,EAAEC,aAAa,EAAEC,aAAa,EAAEC,WAAW,EAAEC,GAAG,QACnD,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,eAAe,SAASC,UAAUA,CAAC;EAAEC,IAAI;EAAEC,MAAM;EAAEC,QAAQ;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACxE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,GAAG,EAAEC,MAAM,CAAC,GAAGzB,QAAQ,CAAC,IAAI0B,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EACzD,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAG7B,QAAQ,CAAC,IAAI0B,IAAI,CAAC,CAAC,CAACI,WAAW,CAAC,CAAC,CAAC;EACxD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGhC,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACiC,KAAK,EAAEC,QAAQ,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMmC,UAAU,GAAGjB,WAAW,IAAIA,WAAW,CAACkB,EAAE;EAEhDnC,SAAS,CAAC,MAAM;IACZ,IAAIkC,UAAU,EAAE;MACZd,cAAc,CAACH,WAAW,CAACE,WAAW,CAAC;MACvCG,QAAQ,CAACL,WAAW,CAACI,KAAK,CAAC;MAC3BG,MAAM,CAACP,WAAW,CAACM,GAAG,CAAC;MACvBK,MAAM,CAACX,WAAW,CAACU,GAAG,CAAC;MACvBI,OAAO,CAACd,WAAW,CAACa,IAAI,CAAC;IAC7B,CAAC,MAAM;MACH;MACAV,cAAc,CAAC,EAAE,CAAC;MAClBE,QAAQ,CAAC,EAAE,CAAC;MACZE,MAAM,CAAC,IAAIC,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MACjCE,MAAM,CAAC,IAAIH,IAAI,CAAC,CAAC,CAACI,WAAW,CAAC,CAAC,CAAC;MAChCE,OAAO,CAAC,KAAK,CAAC;IAClB;EACJ,CAAC,EAAE,CAACd,WAAW,EAAEiB,UAAU,EAAEpB,IAAI,CAAC,CAAC;EAEnC,eAAesB,YAAYA,CAACC,CAAC,EAAE;IAC3BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBL,QAAQ,CAAC,EAAE,CAAC;IACZ,MAAMM,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,UAAU,GAAG;MAAEvB,WAAW;MAAEE,KAAK,EAAEsB,UAAU,CAACtB,KAAK,CAAC;MAAEE,GAAG,EAAEqB,QAAQ,CAACrB,GAAG,CAAC;MAAEI,GAAG,EAAEiB,QAAQ,CAACjB,GAAG,CAAC;MAAEG;IAAK,CAAC;IAE1G,IAAI;MACA,IAAII,UAAU,EAAE;QACZ,MAAMjC,KAAK,CAAC4C,GAAG,CAAC,iCAAiC5B,WAAW,CAACkB,EAAE,EAAE,EAAEO,UAAU,EAAE;UAAEI,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUR,KAAK;UAAG;QAAE,CAAC,CAAC;MACrI,CAAC,MAAM;QACH,MAAMtC,KAAK,CAAC+C,IAAI,CAAC,gCAAgC,EAAEN,UAAU,EAAE;UAAEI,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUR,KAAK;UAAG;QAAE,CAAC,CAAC;MACrH;MACAxB,MAAM,CAAC,CAAC;IACZ,CAAC,CAAC,OAAOkC,GAAG,EAAE;MACVhB,QAAQ,CAAC,4CAA4C,CAAC;IAC1D;EACJ;EAEA,oBACIrB,OAAA,CAACN,MAAM;IAACQ,IAAI,EAAEA,IAAK;IAACoC,OAAO,EAAElC,QAAS;IAAAmC,QAAA,gBAClCvC,OAAA,CAACH,WAAW;MAAA0C,QAAA,EAAEjB,UAAU,GAAG,sBAAsB,GAAG;IAAyB;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAc,CAAC,eAC5F3C,OAAA,CAACJ,aAAa;MAAA2C,QAAA,eACVvC,OAAA,CAACF,GAAG;QAAC8C,SAAS,EAAC,MAAM;QAACC,QAAQ,EAAErB,YAAa;QAACsB,EAAE,EAAE;UAAEC,EAAE,EAAE;QAAE,CAAE;QAAAR,QAAA,gBACxDvC,OAAA,CAACV,SAAS;UACN0D,MAAM,EAAC,QAAQ;UAACC,QAAQ;UAACC,SAAS;UAACC,KAAK,EAAC,mBAAa;UACtDC,KAAK,EAAE7C,WAAY;UAAC8C,QAAQ,EAAE5B,CAAC,IAAIjB,cAAc,CAACiB,CAAC,CAAC6B,MAAM,CAACF,KAAK;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC,eACF3C,OAAA,CAACV,SAAS;UACN0D,MAAM,EAAC,QAAQ;UAACC,QAAQ;UAACC,SAAS;UAACC,KAAK,EAAC,OAAO;UAACI,IAAI,EAAC,QAAQ;UAC9DH,KAAK,EAAE3C,KAAM;UAAC4C,QAAQ,EAAE5B,CAAC,IAAIf,QAAQ,CAACe,CAAC,CAAC6B,MAAM,CAACF,KAAK;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC,eACF3C,OAAA,CAACV,SAAS;UACN0D,MAAM,EAAC,QAAQ;UAACC,QAAQ;UAACC,SAAS;UAACC,KAAK,EAAC,QAAK;UAACI,IAAI,EAAC,QAAQ;UAC5DH,KAAK,EAAEzC,GAAI;UAAC0C,QAAQ,EAAE5B,CAAC,IAAIb,MAAM,CAACa,CAAC,CAAC6B,MAAM,CAACF,KAAK;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,eACF3C,OAAA,CAACV,SAAS;UACN0D,MAAM,EAAC,QAAQ;UAACC,QAAQ;UAACC,SAAS;UAACC,KAAK,EAAC,KAAK;UAACI,IAAI,EAAC,QAAQ;UAC5DH,KAAK,EAAErC,GAAI;UAACsC,QAAQ,EAAE5B,CAAC,IAAIT,MAAM,CAACS,CAAC,CAAC6B,MAAM,CAACF,KAAK;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,eACF3C,OAAA,CAACP,gBAAgB;UACb+D,OAAO,eAAExD,OAAA,CAACR,MAAM;YAACiE,OAAO,EAAEvC,IAAK;YAACmC,QAAQ,EAAE5B,CAAC,IAAIN,OAAO,CAACM,CAAC,CAAC6B,MAAM,CAACG,OAAO;UAAE;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UAC7EQ,KAAK,EAAC;QAAM;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf,CAAC,EACDvB,KAAK,iBAAIpB,OAAA,CAAC0D,UAAU;UAACC,KAAK,EAAC,OAAO;UAAApB,QAAA,EAAEnB;QAAK;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,eAChB3C,OAAA,CAACL,aAAa;MAAA4C,QAAA,gBACVvC,OAAA,CAACT,MAAM;QAACqE,OAAO,EAAExD,QAAS;QAAAmC,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC5C3C,OAAA,CAACT,MAAM;QAACqE,OAAO,EAAEpC,YAAa;QAACqC,OAAO,EAAC,WAAW;QAAAtB,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACZ,CAAC;AAEjB;AAACrC,EAAA,CA/EuBL,UAAU;AAAA6D,EAAA,GAAV7D,UAAU;AAAA,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}